Данный диалог отображает и позволяет изменить все значения для генерации списка объектов, которые ГСК может поместить на карту в момент её генерации. В списках объектов, предустановленных автором плагина (@daemon_n), представлены значения, которые напрямую влияют на создаваемые ГСК объекты. На данный момент представлены 4 разных категории, которые разделены по типу объектов:

* **Банки Существ:** позволяет получить награду (существ, ресурсы, артефакты) за победу над охраной объекта (можно настроить текущие и добавить свои (да-да))
* **Типовые Объекты:** большинство стандартных объектов для всех типов почв (на данный момент также добавлены Склады Ресурсов - с еженедельным посещением)
* **Жилища Существ:** объект, где можно нанять определённых существ за плату (как в городе).
* **WoG-Объекты:** Данные объекты имеют тип 63 и разные подтипы. В оригинале данные объекты не создаются с помощью ГСК, а лишь заменяют другие с помощью егм-скриптов, но данный плагин (имя_плагина) позволяет их добавить в список объектов для генерации (и здесь вы хлопаете в ладоши).

**Краткая Справка по генерации объектов на случайной карте**

На данный момент плагин способен изменять либо добавлять в список генерации Банки существ (тип 16), Святилища мысли (типы 88-90), Склады ресурсов (тип 142) и WoG-объекты (тип 63) - подтип для них указываете вы (см. json файл), при этом редактировать значение можно почти для любого объекта.

**Основные ключи для добавления/редактирования объектов:**

* `"RMG.objectGeneration.[тип].[подтип].Enabled"` - для установки общего флага включения/выключения из списка генерации;
* `"RMG.objectGeneration.[тип].[подтип].Value"` - для выдачи ценности новым объектам и редактированию существующим;
* `"RMG.objectGeneration.[тип].[подтип].Density"` - для выдачи плотности генерации новым объектам и редактированию существующим;
* `"RMG.objectGeneration.[тип].[подтип].Map"` - для выдачи максимального количества на карте новым объектам и редактированию существующим;
* `"RMG.objectGeneration.[тип].[подтип].Zone"` - для выдачи максимального количества на карте новым объектам и редактированию существующим;
* `"RMG.objectGeneration.[тип].[подтип].Name"` - для установки/изменения имени объекта (пока что работает не со всеми объектами);
* `"RMG.objectGeneration.[тип].[подтип].Sound.enter"` - для установки/изменения звука входа, проигрываемого при посещении данного объекта на Карте Приключений;
* `"RMG.objectGeneration.[тип].[подтип].Sound.loop"` - для установки/изменения циклического звука, проигрываемого при нахождении рядом с данным объектом на Карте Приключений (пока что работает не со всеми объектами);

Вы также можете проигнорировать поле `[подтип]` в json-ключе, тогда указанные значения будут применены для всех подтипов данного типа объекта;

Обратите внимание на то, что значения, указанные в json, становятся для данного объекта умолчательными, поэтому редактировать значения рекомендуется непосредственно в диалоге настроек ГСК.

Ниже указаны небольшие руководства для конкретных типов объектов.

**Справка по Банкам существ:**

Этот плагин содержит модуль для расширенной поддержки Банков Существ, который позволяет изменять текущие и добавлять новые Банки существ в Heroes III ERA, работая как с оригинальными наградами, так и привнося совершенно новые, кастомные награды. Теперь помимо стандартных артефактов, ресурсов и существ, можно задать дополнительное вознаграждение, включая опыт, очки заклинаний, удачу, мораль и даже заклинания.

Ниже предоставлены все возможные ключи, которые влияют на реализованные параметры Банков Существ. В данном примере будет использоваться объект карты приключений с подтипом `22` и добавлением всевозможных наград:

* `"name"` - строка: устанавливает имя Банку Существ. Пример использования:
  `"RMG.objectGeneration.16.22.name":"Мифический Храм"`

* `"troopPlacement.isBank"` - булевое значение: устанавливает расстановку нападающих и защищающихся отрядов как в Банке Существ (значение по умолчанию). Если равно `"false"`, то битва будет проходить как с монстрами на карте. Пример использования:
  `"RMG.objectGeneration.16.22.troopPlacement.isBank":true`

* `"troopPlacement.attackers"` - массив из 7 чисел: позволяет точно установить на каких позициях расположены нападающие отряды. Пример использования:
  `"RMG.objectGeneration.16.22.troopPlacement.attackers":[11, 35, 69, 86, 103, 137, 17]`

* `"troopPlacement.defenders"` - массив из 7 чисел: позволяет точно установить на каких позициях расположены защищающиеся отряды. Пример использования:
  `"RMG.objectGeneration.16.22.troopPlacement.defenders":[15, 49, 83, 100, 117, 151, 185]`

Далее необходимо установить 4 состояния банка, одно из которых (0-3) случайно выбирается для каждого из них на старте карты (или с помощью иных скриптов) в функции `"void _fastcall H3CreatureBank::SetBankType(H3CreatureBank *bank, int cbType)"` по адресу `0x0047A6C0`.
В примере будет использоваться `состояние` с индексом `1`:

* `"customDef"` - строка. Позволяет указать конкретный внешний вид на Карте Приключений для данного состояния Банка Существ. Имейте в виду, что новый маска объекта нового Def должна быть по размеру такой же, как и маска оригинального. Пример использования:
  `"RMG.objectGeneration.16.22.states.1.customDef":"SANCT_WT.def"`

* `"artifactTypeCounts"` - массив из 4 чисел: отвечает за количество случайных артефактов разной ценности (ценный, малый, великий и реликтовый). Пример использования:
  `"RMG.objectGeneration.16.22.states.1.artifactTypeCounts":[1,1,3,0]`

* `"resources"` - массив из 8 чисел: количество получаемых ресурсов (древесина, руда, ртуть, сера, кристаллы, самоцветы, золото, мифрил). Пример использования:
  `"RMG.objectGeneration.16.22.states.1.resources":[5,5,2,2,1,1,10000,50]`

* `"creatureRewardType"` - число: ID существа, получаемого в награду. Пример использования:
  `"RMG.objectGeneration.16.22.states.1.creatureRewardType":25`

* `"creatureRewardCount"` - число: количество существ в награде. Пример использования:
  `"RMG.objectGeneration.16.22.states.1.creatureRewardCount":12`

* `"guardians.type"` - массив из 7 чисел: список существ, охраняющих банк. Пример использования:
  `"RMG.objectGeneration.16.22.states.1.guardians.type":[55, 55, -1, -1, -1, -1, -1]`

* `"guardians.count"` - массив из 7 чисел: количество существ-охранников. Пример использования:
  `"RMG.objectGeneration.16.22.states.1.guardians.count":[25, 20, 0, 0, 0, 0, 0]`

* `"upgrade"` - число: шанс на улучшенную версию существ (0-100). Пример использования:
  `"RMG.objectGeneration.16.22.states.1.upgrade":50`

* `"chance"` - число: вероятность выбора данного состояния банка. Сумма всех состояний должна быть 100. Пример использования:
  `"RMG.objectGeneration.16.22.states.1.chance":40`

* `"skills.primary"` - массив из 4 чисел: число добавляемых первичных навыков. Пример использования:
  `"RMG.objectGeneration.16.22.states.1.skills.primary":[1,0,1,3]`

* `"experience"` - число: опыт, получаемый после разграбления. Пример использования:
  `"RMG.objectGeneration.16.22.states.1.experience":5000`

* `"spellPoints"` - число: количество добавляемых очков заклинаний. Пример использования:
  `"RMG.objectGeneration.16.22.states.1.spellPoints":20`

* `"luck"` - число: изменение удачи (от -3 до 3). Пример использования:
  `"RMG.objectGeneration.16.22.states.1.luck":1`

* `"morale"` - число: изменение морали (от -3 до 3). Пример использования:
  `"RMG.objectGeneration.16.22.states.1.morale":-1`

* `"spells"` - массив из 4 объектов: заклинание можно использовать либо точно (индекс заклинания в награду, либо генерировать случайное заклинание по битовому сету школы магии [1-15], уровню заклинания [1-3]), флагам заклинания [1-4294967295]. Если ключ пустой, то ограничения игнорируются. Пример использования точного id:
  `"RMG.objectGeneration.16.22.states.1.spells.0.id":15,`
  Пример использования битовых наборов для генерации заклинаний только школы магии воды и лишь 2 или 3 уровня (`2^2 + 2^3 = 12`):
  `"RMG.objectGeneration.16.22.states.1.spells.0.bits.schools":12,`
  `"RMG.objectGeneration.16.22.states.1.spells.0.bits.levels":4`

**Справка по общим объектам карты:**

Многие из этих объектов имеют сильные ограничения по количеству на зоне и на карте, так как каждый из них имеет id, который добавляется к биту, установленному для каждого героя, поэтому устанавливать значение выше 32 не имеет смысла (P.S.: не пробовал и вам не советую).

**Справка по жилищам существ:**

Стоимость этих объектов рассчитывается игрой автоматически, исходя из количества городов, к которым принадлежит существо из жилища, и ценности AI данного существа.

В данном диалоге предоставлены базовые значения ценности AI существ, от которых высчитывается итоговая ценность объекта в момент его генерации. Полная формула расчёта ценности жилищ существ выглядит так:
`AI_value = creatureInfo->AI_value;`
`dwellingValue = AI_value * creatureInfo->growth;`
`totalCreatureTypeTowns = 0;`
`if (townType != - 1)`
`totalCreatureTypeTowns = rmgStruct->townsCountByType[townType];`
`totalTownsCount = rmgStruct->townsCount;`
`if (totalTownsCount > 0)`
`dwellingValue += dwellingValue * totalCreatureTypeTowns / totalTownsCount;`
`objectValue = dwellingValue + totalCreatureTypeTowns * AI_value / 2;`

**Справка по объектам WoG:**

Объекты WoG (тип 63) также добавляются через json, но вся их механика скриптовая (на данный момент). Прежде чем включать объект в генерацию, убедитесь, что соответствующий объект имеет скрипт или другую реализацию. В противном случае на карте появится пустой объект, который "съест" часть ценности зоны.